---
title: "R Camp HW Day 1"
author: "Zarate Marques"
date: "8/23/2019"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


The data used is from an ongoing project where Matthew and I are looking at whether or not political trust mediates the relationship between anxiety and political participation. Levels of anxiety are measured by asking to what extent the respondents feel anxious, worried, and fearful while trust is measured by asking to what extent the individuals trust their representative and the institution of the government.


```{r}


library(haven)
setwd("C:/Users/mgz1/Dropbox/POLI 501")
TRUST_TAKE_x <- read_dta("TRUST TAKE x.dta")


# Problem 1

#using the str command to find the mode and see some of the data
str(TRUST_TAKE_x)
#Viewing the data in a spread sheet
#View(TRUST_TAKE_x)
#Looking at specific variables that are important to the theory
summary(TRUST_TAKE_x$anxiety) #level of anxiety
summary(TRUST_TAKE_x$trust) #level of political trust
summary(TRUST_TAKE_x$donate) #willing to donate to a campaign
summary(TRUST_TAKE_x$rally) #willing to attend a rally
summary(TRUST_TAKE_x$voting) #willing to vote in 2020
summary(TRUST_TAKE_x$clicked_out) #contacting your representative, only 4 clicked the link

#Creating the interaction variable
TRUST_TAKE_x$anxtrust <- TRUST_TAKE_x$anxiety * TRUST_TAKE_x$trust
summary(TRUST_TAKE_x$anxtrust)

#histogram of some of the variables of interest
hist(TRUST_TAKE_x$anxiety)
#We would like two clear groupings on the high and low end that represents those in the
#treatment condition and those in the control. The treatment was not significant 
#on anxiety so we would not see that
hist(TRUST_TAKE_x$trust)
#This variable was created by adding specific and diffuse trust in the government and scaling
#the variable
hist(TRUST_TAKE_x$donate)
hist(TRUST_TAKE_x$rally)

cor(TRUST_TAKE_x$anxtrust, TRUST_TAKE_x$donate) #is this supposed to just return NA? or only when the relationship is nonsignificant

par(mfrow=c(1,2)) # I am more so just playing with this at this point
plot(TRUST_TAKE_x$anxtrust, TRUST_TAKE_x$donate)


plot(TRUST_TAKE_x$trust, TRUST_TAKE_x$anxiety, col="dimgray", cex=2, pch=4) 
     abline(h=mean(TRUST_TAKE_x$anxiety), lty=2)
     abline(v=mean(TRUST_TAKE_x$trust), lty=2)

#Problem 2 
m_ols <-lm(donate ~ anxtrust + anxiety + trust, data=TRUST_TAKE_x)
summary(m_ols)

range(TRUST_TAKE_x$anxtrust)
#xrange <- seq(from=0, 1, by=0.001)
#pred_prob <- predict(m_ols, list(anxtrust = xrange), type="response")
plot(TRUST_TAKE_x$donate ~ TRUST_TAKE_x$anxtrust + TRUST_TAKE_x$anxiety + TRUST_TAKE_x$trust)
#lines(pred_prob ~ xrange, col="red")
```

Matthew and I did not find significant results and so choosing a visual was difficult. IN my scratch homework I experimented with other visual forms but could not get them to work well.